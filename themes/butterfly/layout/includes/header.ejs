<%# È°∂ÈÉ®ÂØºËà™Ê†è - Áé∞‰ª£ÊØõÁéªÁíÉÊïàÊûú %>

    <header id="site-header" class="site-header">
        <nav class="navbar">
            <div class="navbar-container">
                <!-- üí° Logo ÂíåÁ´ôÁÇπÊ†áÈ¢ò -->
                <div class="navbar-brand">
                    <a href="<%= url_for('/') %>" class="brand-link">
                        <% if (theme.avatar && theme.avatar.img) { %>
                            <img src="<%= url_for(theme.avatar.img) %>" alt="<%= config.title %>" class="brand-logo">
                            <% } %>
                                <span class="brand-title">
                                    <%= config.title %>
                                </span>
                    </a>
                </div>

                <!-- üí° ‰∏ªÂØºËà™ËèúÂçï -->
                <div class="navbar-menu" id="navbar-menu">
                    <ul class="nav-list">
                        <!-- È¶ñÈ°µ -->
                        <li class="nav-item">
                            <a href="<%= url_for('/') %>" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span>È¶ñÈ°µ</span>
                            </a>
                        </li>

                        <!-- ÂΩíÊ°£ -->
                        <li class="nav-item">
                            <a href="<%= url_for('/archives/') %>" class="nav-link">
                                <i class="fas fa-archive"></i>
                                <span>ÂΩíÊ°£</span>
                            </a>
                        </li>

                        <!-- ÂàÜÁ±ª -->
                        <li class="nav-item">
                            <a href="<%= url_for('/categories/') %>" class="nav-link">
                                <i class="fas fa-folder-open"></i>
                                <span>ÂàÜÁ±ª</span>
                            </a>
                        </li>

                        <!-- Ê†áÁ≠æ -->
                        <li class="nav-item">
                            <a href="<%= url_for('/tags/') %>" class="nav-link">
                                <i class="fas fa-tags"></i>
                                <span>Ê†áÁ≠æ</span>
                            </a>
                        </li>

                        <!-- ÂèãÈìæ -->
                        <li class="nav-item">
                            <a href="<%= url_for('/link/') %>" class="nav-link">
                                <i class="fas fa-link"></i>
                                <span>ÂèãÈìæ</span>
                            </a>
                        </li>

                        <!-- ÂÖ≥‰∫é -->
                        <li class="nav-item">
                            <a href="<%= url_for('/about/') %>" class="nav-link">
                                <i class="fas fa-heart"></i>
                                <span>ÂÖ≥‰∫é</span>
                            </a>
                        </li>
                    </ul>

                    <!-- üí° ÊêúÁ¥¢ÊåâÈíÆÔºàÂèØÈÄâÔºâ -->
                    <div class="navbar-search">
                        <button class="search-btn" aria-label="ÊêúÁ¥¢">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

                <!-- üí° ÁßªÂä®Á´ØÊ±âÂ†°ËèúÂçïÊåâÈíÆ -->
                <button class="navbar-toggle" id="navbar-toggle" aria-label="ËèúÂçï">
                    <span class="toggle-bar"></span>
                    <span class="toggle-bar"></span>
                    <span class="toggle-bar"></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- üí° ÂØºËà™Ê†è JavaScript -->
    <script>
        (function () {
            const header = document.getElementById('site-header');
            const toggle = document.getElementById('navbar-toggle');
            const menu = document.getElementById('navbar-menu');

            // üí° ÊªöÂä®Êó∂Ê∑ªÂä†ËÉåÊôØ
            let lastScroll = 0;
            window.addEventListener('scroll', function () {
                const currentScroll = window.pageYOffset;

                if (currentScroll > 80) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }

                // ÊªöÂä®ÊñπÂêëÊ£ÄÊµãÔºàÂèØÈÄâÔºöÈöêËóèÂØºËà™Ê†èÔºâ
                if (currentScroll > lastScroll && currentScroll > 300) {
                    header.classList.add('hidden');
                } else {
                    header.classList.remove('hidden');
                }

                lastScroll = currentScroll;
            });

            // üí° ÁßªÂä®Á´ØËèúÂçïÂàáÊç¢
            if (toggle && menu) {
                toggle.addEventListener('click', function () {
                    menu.classList.toggle('active');
                    toggle.classList.toggle('active');
                    document.body.classList.toggle('menu-open');
                });
            }

            // üí° ‰∏ãÊãâËèúÂçï‰∫§‰∫íÔºàÁßªÂä®Á´ØÁÇπÂáªÂàáÊç¢Ôºâ
            const dropdowns = document.querySelectorAll('.nav-item.has-dropdown');
            dropdowns.forEach(function (dropdown) {
                const link = dropdown.querySelector('.nav-link');
                link.addEventListener('click', function (e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        dropdown.classList.toggle('active');
                    }
                });
            });
        })();
    </script>