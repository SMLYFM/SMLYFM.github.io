/**
 * æ•°å­¦å®šç†å¡ç‰‡æ ·å¼ - Theorem Cards
 * ğŸ’¡ å®šç† (Theorem) - è“è‰²
 * ğŸ’¡ å¼•ç† (Lemma) - ç»¿è‰²
 * ğŸ’¡ å®šä¹‰ (Definition) - ç´«è‰²
 * ğŸ’¡ è¯æ˜ (Proof) - ç°è‰²
 * ğŸ’¡ æ¨è®º (Corollary) - æ©™è‰²
 * ğŸ’¡ å‘½é¢˜ (Proposition) - é’è‰²
 * ğŸ’¡ æ³¨è®° (Remark) - ç²‰è‰²
 * ğŸ’¡ ä¾‹å­ (Example) - é»„è‰²
 */

/* ========================================
 * åŸºç¡€å¡ç‰‡æ ·å¼
 * ======================================== */

.math-card {
  position: relative;
  margin: 1.5rem 0;
  padding: 1.25rem 1.5rem;

  /* ğŸ’¡ è¾¹æ¡†å’Œåœ†è§’ */
  border-left: 4px solid;
  border-radius: 0 12px 12px 0;

  /* ğŸ’¡ èƒŒæ™¯ */
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  /* ğŸ’¡ é˜´å½± */
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);

  /* ğŸ’¡ è¿‡æ¸¡ */
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

.math-card:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

/* ğŸ’¡ å¡ç‰‡æ ‡é¢˜ */
.math-card-title {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 0.75rem;
  font-weight: 600;
  font-size: 1rem;
}

.math-card-title::before {
  font-size: 1.1em;
}

/* ğŸ’¡ å¡ç‰‡å†…å®¹ */
.math-card-content {
  color: #444;
  line-height: 1.7;
}

.math-card-content p:last-child {
  margin-bottom: 0;
}

/* ========================================
 * å®šç† (Theorem) - è“è‰²
 * ======================================== */

.math-card.theorem {
  border-color: #667eea;
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.08) 0%,
    rgba(118, 75, 162, 0.05) 100%
  );
}

.math-card.theorem .math-card-title {
  color: #5a6fd6;
}

.math-card.theorem .math-card-title::before {
  content: 'ğŸ“';
}

/* ========================================
 * å¼•ç† (Lemma) - ç»¿è‰²
 * ======================================== */

.math-card.lemma {
  border-color: #43e97b;
  background: linear-gradient(
    135deg,
    rgba(67, 233, 123, 0.08) 0%,
    rgba(56, 249, 215, 0.05) 100%
  );
}

.math-card.lemma .math-card-title {
  color: #2ecc71;
}

.math-card.lemma .math-card-title::before {
  content: 'ğŸ”§';
}

/* ========================================
 * å®šä¹‰ (Definition) - ç´«è‰²
 * ======================================== */

.math-card.definition {
  border-color: #a18cd1;
  background: linear-gradient(
    135deg,
    rgba(161, 140, 209, 0.08) 0%,
    rgba(251, 194, 235, 0.05) 100%
  );
}

.math-card.definition .math-card-title {
  color: #9b59b6;
}

.math-card.definition .math-card-title::before {
  content: 'ğŸ“–';
}

/* ========================================
 * è¯æ˜ (Proof) - ç°è‰²
 * ======================================== */

.math-card.proof {
  border-color: #95a5a6;
  background: rgba(149, 165, 166, 0.05);
}

.math-card.proof .math-card-title {
  color: #7f8c8d;
}

.math-card.proof .math-card-title::before {
  content: 'âœï¸';
}

/* ğŸ’¡ è¯æ˜ç»“æŸç¬¦å· */
.math-card.proof::after {
  content: 'âˆ';
  display: block;
  text-align: right;
  font-size: 1.2rem;
  color: #95a5a6;
  margin-top: 0.5rem;
}

/* ========================================
 * æ¨è®º (Corollary) - æ©™è‰²
 * ======================================== */

.math-card.corollary {
  border-color: #f39c12;
  background: linear-gradient(
    135deg,
    rgba(243, 156, 18, 0.08) 0%,
    rgba(241, 196, 15, 0.05) 100%
  );
}

.math-card.corollary .math-card-title {
  color: #e67e22;
}

.math-card.corollary .math-card-title::before {
  content: 'ğŸ’¡';
}

/* ========================================
 * å‘½é¢˜ (Proposition) - é’è‰²
 * ======================================== */

.math-card.proposition {
  border-color: #4facfe;
  background: linear-gradient(
    135deg,
    rgba(79, 172, 254, 0.08) 0%,
    rgba(0, 242, 254, 0.05) 100%
  );
}

.math-card.proposition .math-card-title {
  color: #3498db;
}

.math-card.proposition .math-card-title::before {
  content: 'ğŸ“‹';
}

/* ========================================
 * æ³¨è®° (Remark) - ç²‰è‰²
 * ======================================== */

.math-card.remark {
  border-color: #f093fb;
  background: linear-gradient(
    135deg,
    rgba(240, 147, 251, 0.08) 0%,
    rgba(245, 87, 108, 0.05) 100%
  );
}

.math-card.remark .math-card-title {
  color: #e91e8c;
}

.math-card.remark .math-card-title::before {
  content: 'ğŸ’­';
}

/* ========================================
 * ä¾‹å­ (Example) - é»„è‰²
 * ======================================== */

.math-card.example {
  border-color: #fee140;
  background: linear-gradient(
    135deg,
    rgba(254, 225, 64, 0.08) 0%,
    rgba(250, 112, 154, 0.05) 100%
  );
}

.math-card.example .math-card-title {
  color: #d4a017;
}

.math-card.example .math-card-title::before {
  content: 'ğŸ“';
}

/* ========================================
 * æ·±è‰²æ¨¡å¼é€‚é…
 * ======================================== */

[data-theme='dark'] .math-card {
  background: rgba(22, 27, 34, 0.8);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .math-card:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

[data-theme='dark'] .math-card-content {
  color: #c9d1d9;
}

[data-theme='dark'] .math-card.theorem {
  background: rgba(102, 126, 234, 0.1);
}

[data-theme='dark'] .math-card.theorem .math-card-title {
  color: #79c0ff;
}

[data-theme='dark'] .math-card.lemma {
  background: rgba(67, 233, 123, 0.1);
}

[data-theme='dark'] .math-card.lemma .math-card-title {
  color: #7ee787;
}

[data-theme='dark'] .math-card.definition {
  background: rgba(161, 140, 209, 0.1);
}

[data-theme='dark'] .math-card.definition .math-card-title {
  color: #d2a8ff;
}

[data-theme='dark'] .math-card.proof {
  background: rgba(139, 148, 158, 0.1);
}

[data-theme='dark'] .math-card.proof .math-card-title {
  color: #8b949e;
}

[data-theme='dark'] .math-card.proof::after {
  color: #8b949e;
}

[data-theme='dark'] .math-card.corollary {
  background: rgba(243, 156, 18, 0.1);
}

[data-theme='dark'] .math-card.corollary .math-card-title {
  color: #ffa657;
}

[data-theme='dark'] .math-card.proposition {
  background: rgba(79, 172, 254, 0.1);
}

[data-theme='dark'] .math-card.proposition .math-card-title {
  color: #79c0ff;
}

[data-theme='dark'] .math-card.remark {
  background: rgba(240, 147, 251, 0.1);
}

[data-theme='dark'] .math-card.remark .math-card-title {
  color: #ff7eb6;
}

[data-theme='dark'] .math-card.example {
  background: rgba(254, 225, 64, 0.1);
}

[data-theme='dark'] .math-card.example .math-card-title {
  color: #f8d847;
}

/* ========================================
 * å…¬å¼ç¼–å·ï¼ˆä¸ MathJax é…åˆï¼‰
 * ======================================== */

.math-card .MathJax_Display {
  margin: 1rem 0 !important;
}

.math-card .MJXc-display {
  margin: 1rem 0 !important;
}

/* ========================================
 * å“åº”å¼è®¾è®¡
 * ======================================== */

@media screen and (max-width: 768px) {
  .math-card {
    margin: 1rem 0;
    padding: 1rem 1.25rem;
    border-radius: 0 8px 8px 0;
  }

  .math-card-title {
    font-size: 0.95rem;
  }
}

/* ========================================
 * æ‰“å°æ ·å¼
 * ======================================== */

@media print {
  .math-card {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ddd;
    border-left-width: 4px;
  }
}
