/**
 * å…¬å¼å¢å¼ºæ ·å¼ - Math Enhancement Styles
 * ğŸ’¡ å…¬å¼å¤åˆ¶æŒ‰é’®
 * ğŸ’¡ å…¬å¼æ‚¬æµ®æ•ˆæœ
 */

/* ========================================
 * å…¬å¼åŒ…è£…å®¹å™¨
 * ======================================== */

.math-copy-wrapper {
  position: relative;
  display: block;
}

/* ========================================
 * å…¬å¼å¤åˆ¶æŒ‰é’®
 * ======================================== */

.math-copy-btn {
  position: absolute;
  top: 0;
  right: 0;

  /* ğŸ’¡ å°ºå¯¸ */
  width: 32px;
  height: 32px;
  padding: 0;

  /* ğŸ’¡ ç»ç’ƒæ€èƒŒæ™¯ */
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 6px;

  /* ğŸ’¡ å¸ƒå±€ */
  display: flex;
  align-items: center;
  justify-content: center;

  /* ğŸ’¡ äº¤äº’ */
  cursor: pointer;
  opacity: 0;
  transition:
    opacity 0.2s ease,
    transform 0.2s ease,
    background 0.2s ease;
}

.math-copy-wrapper:hover .math-copy-btn {
  opacity: 1;
}

.math-copy-btn:hover {
  background: white;
  border-color: #667eea;
  transform: scale(1.1);
}

.math-copy-btn:active {
  transform: scale(0.95);
}

/* ğŸ’¡ å›¾æ ‡ */
.math-copy-btn svg {
  width: 16px;
  height: 16px;
  color: #555;
}

.math-copy-btn .check-icon {
  display: none;
}

/* ğŸ’¡ å¤åˆ¶æˆåŠŸçŠ¶æ€ */
.math-copy-btn.copied {
  background: rgba(67, 233, 123, 0.15);
  border-color: #43e97b;
}

.math-copy-btn.copied svg {
  color: #2ecc71;
}

.math-copy-btn.copied .copy-icon {
  display: none;
}

.math-copy-btn.copied .check-icon {
  display: block;
}

/* ğŸ’¡ é”™è¯¯çŠ¶æ€ */
.math-copy-btn.error {
  background: rgba(231, 76, 60, 0.15);
  border-color: #e74c3c;
}

.math-copy-btn.error svg {
  color: #e74c3c;
}

/* ========================================
 * æ·±è‰²æ¨¡å¼é€‚é…
 * ======================================== */

[data-theme='dark'] .math-copy-btn {
  background: rgba(30, 35, 42, 0.9);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-theme='dark'] .math-copy-btn svg {
  color: #c9d1d9;
}

[data-theme='dark'] .math-copy-btn:hover {
  background: rgba(48, 54, 61, 1);
  border-color: #79c0ff;
}

[data-theme='dark'] .math-copy-btn:hover svg {
  color: #79c0ff;
}

[data-theme='dark'] .math-copy-btn.copied {
  background: rgba(67, 233, 123, 0.1);
  border-color: #43e97b;
}

[data-theme='dark'] .math-copy-btn.copied svg {
  color: #7ee787;
}

/* ========================================
 * å“åº”å¼è®¾è®¡
 * ======================================== */

@media screen and (max-width: 768px) {
  .math-copy-btn {
    width: 28px;
    height: 28px;
  }

  .math-copy-btn svg {
    width: 14px;
    height: 14px;
  }
}

/* ========================================
 * æ‰“å°æ ·å¼
 * ======================================== */

@media print {
  .math-copy-btn {
    display: none !important;
  }
}
